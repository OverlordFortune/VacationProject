
@model Vacations.Models.BalanceChangeViewModel
@{
    string url = "https://teamresponse418storage.blob.core.windows.net/photos/";
}

@Html.Hidden("EmployeeID", Model.EmployeeID)
@using (Html.BeginForm("BalanceChangePopupPartial", "Admin", FormMethod.Post, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data",@id="modalForm" }))
{
    @Html.HiddenFor(m=>m.EmployeeID)
    <div class="modal-content bg-dark" style="color:gray; border:solid gray 1px;">
        <div class="modal-header form-header bg-global" style="color:white; border-bottom:solid gray 1px !important;height:50px; vertical-align:middle;">
            <div class="modal-title" id="ModalTitle">Balance Change</div>
        </div>
        <div class="modal-body" style="margin:10px;">
            <div class="form-group">
                <div style="overflow: hidden">
                    <div style="float: left;">
                        <img src="@string.Format($"{url}{Model.EmployeeID}.jpg")" class="rounded-circle profilePhoto" style="object-fit: cover;padding-left:5px;" />
                    </div>
                    <div class="float-right" style="padding-right:200px;">
                        <p style="color:white !important">@Html.DisplayFor(m => m.EmployeeName)</p>
                        <div>
                            <p style="color:white !important">  @Html.DisplayFor(m => m.JobTitle)</p>
                        </div>
                        <div>
                            <p style="color:white !important">@Html.DisplayFor(m => m.TeamName) @Html.DisplayFor(m => m.TeamLeadName)</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="row" style="border:none !important">
                    <div class="col-6 col-ms-12">
                        <ul class="list-unstyled zebra comment-area">
                            <li>
                                @Html.LabelFor(m => m.Comment, new { @class = "control-label" })      @Html.ValidationMessageFor(m => m.Comment, "", new { @class = "Denied" })
                            </li>
                            <li>
                                @Html.TextAreaFor(model => model.Comment, 6, 22, new { @class = "form-control bg-dark border-grey", style = "resize:none;color:white; padding:5px;" })
                            </li>
                        </ul>
                    </div>
                    <div class="col-6">
                        <div class="row">
                            <div class="col-12 col-ms-12">
                                <ul class="list-unstyled zebra">
                                    <li> @Html.LabelFor(m => m.Balance, new { @class = "control-label" })   @Html.ValidationMessageFor(m => m.Balance, "", new { @class = "Denied" })</li>
                                         @Html.TextBoxFor(m => m.Balance, new { @class = "form-control bg-dark border-grey colorWhite", placeholder = "Balance", autocomplete = "off" })
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <input type="button" class="float-right form-control bg-dark button-cancel border-grey" style="cursor:pointer;width:220px" data-dismiss="modal" value="CANCEL" />
                </div>
                <div class="col-6" style="padding-right:0">
                    <input type="submit" class="form-control bg-dark button-done border-grey bt-gradient float-right" style="cursor:pointer;height:40px !important; padding-top:5px; width:220px;"id="Done" value="CHANGE" />
                </div>
            </div>
        </div>
    </div>
}
<script>
    $.validator.unobtrusive.parse("#modalForm");
    function DisableOnClick(s) {
        setTimeout(function () {
            jQuery('#Done').attr('disabled', true);
        }, 100);
        setTimeout(function () {
            jQuery('#Done').attr('disabled', false);
        }, 2000);
    }
</script>